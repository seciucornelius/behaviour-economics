#include <iostream>
#include <vector>
#include <cstdlib>
#include <ctime>
#include <iomanip>
#include <algorithm>

using namespace std;

int main() {
    const int numAgents = 100;
    const double baseProbability = 0.4;
    const double nudgeEffect = 0.2;
    const double socialFactor = 0.001;

    // Real number of days in each month (non-leap year)
    vector<int> daysInMonth = {
        31, // January
        28, // February
        31, // March
        30, // April
        31, // May
        30, // June
        31, // July
        31, // August
        30, // September
        31, // October
        30, // November
        31  // December
    };
    const int totalDays = 365;

    srand(time(0));

    vector<vector<bool>> recycleDecisions(totalDays, vector<bool>(numAgents));
    vector<double> dailyRecycleRates(totalDays);

    for (int day = 0; day < totalDays; ++day) {
        int recycledToday = 0;
        double socialInfluence = 0.0;

        if (day > 0) {
            int previousDayRecyclers = 0;
            for (int agent = 0; agent < numAgents; ++agent) {
                if (recycleDecisions[day - 1][agent]) previousDayRecyclers++;
            }
            socialInfluence = socialFactor * previousDayRecyclers;
        }

        for (int agent = 0; agent < numAgents; ++agent) {
            double recycleProbability = baseProbability + nudgeEffect + socialInfluence;
            double randomDraw = static_cast<double>(rand()) / RAND_MAX;

            if (randomDraw < recycleProbability) {
                recycleDecisions[day][agent] = true;
                recycledToday++;
            } else {
                recycleDecisions[day][agent] = false;
            }
        }

        dailyRecycleRates[day] = static_cast<double>(recycledToday) / numAgents;
    }

    // Optional: display daily recycle rate
    cout << "Day\tRecycle Rate\n";
    for (int day = 0; day < totalDays; ++day) {
        cout << setw(3) << day + 1 << "\t" << fixed << setprecision(2)
             << dailyRecycleRates[day] * 100 << "%" << endl;
    }

    // Monthly averages
    cout << "\n--- Monthly Averages ---\n";
    int currentDay = 0;
    for (int month = 0; month < 12; ++month) {
        int daysThisMonth = daysInMonth[month];
        double sum = 0.0;
        for (int d = 0; d < daysThisMonth; ++d) {
            sum += dailyRecycleRates[currentDay++];
        }
        double monthlyAverage = sum / daysThisMonth;
        cout << "Month " << month + 1 << ": " << fixed << setprecision(2)
             << monthlyAverage * 100 << "%" << endl;
    }

    return 0;
}

Day	Recycle Rate
1	60.00%
2	68.00%
3	69.00%
4	74.00%
5	61.00%
6	72.00%
7	71.00%
8	70.00%
9	62.00%
10	65.00%
11	67.00%
12	59.00%
13	62.00%
14	61.00%
15	62.00%
16	67.00%
17	60.00%
18	63.00%
19	64.00%
20	73.00%
21	64.00%
22	64.00%
23	59.00%
24	62.00%
25	59.00%
26	70.00%
27	71.00%
28	66.00%
29	69.00%
30	66.00%
31	61.00%
32	71.00%
33	67.00%
34	71.00%
35	73.00%
36	72.00%
37	70.00%
38	62.00%
39	65.00%
40	68.00%
41	66.00%
42	71.00%
43	63.00%
44	72.00%
45	64.00%
46	64.00%
47	65.00%
48	57.00%
49	69.00%
50	67.00%
51	68.00%
52	67.00%
53	68.00%
54	61.00%
55	58.00%
56	67.00%
57	71.00%
58	67.00%
59	63.00%
60	64.00%
61	63.00%
62	65.00%
63	62.00%
64	61.00%
65	66.00%
66	62.00%
67	72.00%
68	70.00%
69	70.00%
70	62.00%
71	57.00%
72	68.00%
73	64.00%
74	63.00%
75	70.00%
76	65.00%
77	64.00%
78	68.00%
79	72.00%
80	64.00%
81	74.00%
82	67.00%
83	67.00%
84	60.00%
85	59.00%
86	69.00%
87	70.00%
88	72.00%
89	63.00%
90	69.00%
91	65.00%
92	72.00%
93	70.00%
94	63.00%
95	72.00%
96	69.00%
97	73.00%
98	63.00%
99	76.00%
100	68.00%
101	72.00%
102	63.00%
103	64.00%
104	70.00%
105	65.00%
106	62.00%
107	55.00%
108	61.00%
109	70.00%
110	68.00%
111	66.00%
112	74.00%
113	72.00%
114	67.00%
115	69.00%
116	67.00%
117	69.00%
118	64.00%
119	67.00%
120	77.00%
121	63.00%
122	71.00%
123	70.00%
124	63.00%
125	61.00%
126	64.00%
127	66.00%
128	62.00%
129	65.00%
130	65.00%
131	67.00%
132	73.00%
133	69.00%
134	59.00%
135	67.00%
136	62.00%
137	66.00%
138	71.00%
139	62.00%
140	69.00%
141	68.00%
142	68.00%
143	65.00%
144	66.00%
145	65.00%
146	70.00%
147	70.00%
148	65.00%
149	75.00%
150	70.00%
151	75.00%
152	67.00%
153	68.00%
154	69.00%
155	67.00%
156	75.00%
157	69.00%
158	69.00%
159	65.00%
160	64.00%
161	61.00%
162	67.00%
163	72.00%
164	64.00%
165	71.00%
166	74.00%
167	68.00%
168	70.00%
169	68.00%
170	69.00%
171	63.00%
172	71.00%
173	64.00%
174	61.00%
175	75.00%
176	67.00%
177	72.00%
178	64.00%
179	70.00%
180	77.00%
181	73.00%
182	65.00%
183	71.00%
184	73.00%
185	66.00%
186	64.00%
187	63.00%
188	63.00%
189	70.00%
190	64.00%
191	68.00%
192	66.00%
193	58.00%
194	67.00%
195	70.00%
196	67.00%
197	64.00%
198	72.00%
199	72.00%
200	70.00%
201	67.00%
202	63.00%
203	67.00%
204	64.00%
205	63.00%
206	61.00%
207	68.00%
208	63.00%
209	69.00%
210	68.00%
211	67.00%
212	72.00%
213	71.00%
214	70.00%
215	65.00%
216	75.00%
217	67.00%
218	56.00%
219	58.00%
220	64.00%
221	51.00%
222	63.00%
223	64.00%
224	55.00%
225	66.00%
226	67.00%
227	64.00%
228	59.00%
229	71.00%
230	65.00%
231	74.00%
232	68.00%
233	67.00%
234	71.00%
235	70.00%
236	63.00%
237	70.00%
238	76.00%
239	65.00%
240	58.00%
241	67.00%
242	72.00%
243	63.00%
244	67.00%
245	66.00%
246	67.00%
247	66.00%
248	68.00%
249	72.00%
250	69.00%
251	73.00%
252	65.00%
253	64.00%
254	56.00%
255	66.00%
256	69.00%
257	61.00%
258	71.00%
259	67.00%
260	57.00%
261	59.00%
262	63.00%
263	65.00%
264	73.00%
265	71.00%
266	68.00%
267	67.00%
268	71.00%
269	60.00%
270	62.00%
271	71.00%
272	76.00%
273	69.00%
274	73.00%
275	72.00%
276	71.00%
277	71.00%
278	64.00%
279	76.00%
280	67.00%
281	67.00%
282	71.00%
283	67.00%
284	70.00%
285	62.00%
286	69.00%
287	64.00%
288	73.00%
289	78.00%
290	63.00%
291	60.00%
292	68.00%
293	64.00%
294	66.00%
295	62.00%
296	69.00%
297	68.00%
298	61.00%
299	69.00%
300	70.00%
301	70.00%
302	68.00%
303	65.00%
304	63.00%
305	69.00%
306	63.00%
307	64.00%
308	69.00%
309	70.00%
310	74.00%
311	62.00%
312	69.00%
313	73.00%
314	63.00%
315	61.00%
316	58.00%
317	62.00%
318	72.00%
319	71.00%
320	65.00%
321	70.00%
322	63.00%
323	68.00%
324	65.00%
325	64.00%
326	59.00%
327	72.00%
328	69.00%
329	60.00%
330	64.00%
331	69.00%
332	63.00%
333	63.00%
334	69.00%
335	64.00%
336	62.00%
337	58.00%
338	75.00%
339	68.00%
340	65.00%
341	73.00%
342	65.00%
343	67.00%
344	66.00%
345	61.00%
346	68.00%
347	61.00%
348	65.00%
349	70.00%
350	65.00%
351	76.00%
352	76.00%
353	69.00%
354	73.00%
355	70.00%
356	69.00%
357	70.00%
358	69.00%
359	66.00%
360	63.00%
361	66.00%
362	65.00%
363	70.00%
364	63.00%
365	62.00%
	
Monthly Average Recycling	
Month 1: 65.19%	
Month 2: 66.68%	
Month 3: 65.87%	
Month 4: 67.77%	
Month 5: 66.84%	
Month 6: 68.47%	
Month 7: 66.61%	
Month 8: 65.65%	
Month 9: 66.63%	
Month 10: 67.77%	
Month 11: 66.10%	
Month 12: 67.10%	
	
